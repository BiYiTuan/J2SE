
线程池

线程池的作用:
线程池的作用就是限制系统中执行线程的数量。用线程池控制线程数量，其他线程排队等候。

为什么要用线程池:
1.减少创建和销毁线程的次数，每个工作线程都可以被重复利用，可执行多个任务。
2.可以根据系统的承受能力，调整线程池中工作线程的数目，防止因为消耗过多的内存，而把服务器累趴下
(每个线程需要大约1MB内存，线程开的越多，消耗的内存也就越大，最后死机)。

Java里面线程池的顶级接口是Executor，但是严格意义上讲Executor并不是一个线程池，而只是一个执行
线程的工具。真正的线程池接口是ExecutorService。

------------------------------------------------------------------------------------------------

ThreadPoolExecutor的完整构造方法的签名是:
ThreadPoolExecutor(int corePoolSize, int maximumPoolSize, long keepAliveTime, 
	TimeUnit unit, BlockingQueue<Runnable> workQueue, ThreadFactory threadFactory, 
	RejectedExecutionHandler handler).

corePoolSize     - 池中所保存的线程数，包括空闲线程。
maximumPoolSize  - 池中允许的最大线程数。
keepAliveTime    - 当线程数大于核心时，此为终止前多余的空闲线程等待新任务的最长时间。
unit             - keepAliveTime 参数的时间单位。
workQueue        - 执行前用于保持任务的队列。此队列仅保持由 execute方法提交的 Runnable任务。
threadFactory    - 执行程序创建新线程时使用的工厂。
handler          - 由于超出线程范围和队列容量而使执行被阻塞时所使用的处理程序。

ThreadPoolExecutor是Executors类的底层实现。

在JDK帮助文档中，有如此一段话:
   "强烈建议程序员使用较为方便的Executors工厂方法Executors.newCachedThreadPool()（无界线程池，
可以进行自动线程回收）、Executors.newFixedThreadPool(int)（固定大小线程池）、
Executors.newSingleThreadExecutor()（单个后台线程），它们均为大多数使用场景预定义了设置。"
